<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selects</title>

    <style>
        html {
            font-size: 14px;
        }

        @media (min-width: 768px) {
            html {
                font-size: 16px;
            }
        }

        .vtop {
            vertical-align: top;
        }

        .btn:focus, .btn:active:focus, .btn-link.nav-link:focus, .form-control:focus, .form-check-input:focus {
            box-shadow: 0 0 0 0.1rem white, 0 0 0 0.25rem #258cfb;
        }

        html {
            position: relative;
            min-height: 100%;
        }

        body {
            margin-bottom: 60px;
        }
    </style>
    <link href="wwwroot/lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="wwwroot/js/spokenLanguages.js"></script>

    <!--suppress no favicon-->
    <link rel="shortcut icon" href="#">

</head>
<body style="margin-right: 10px;">

    <div class="container">

        <div class="alert alert-primary mt-4" role="alert">
            <h1 class="fs-4">Dropdown of spoken languages</h1>
        </div>

        <div class="row mt-2 ms-2">

            <fieldset class="border border-dark rounded-3 p-3 mt-3 mb-3">

                <legend class="float-none w-auto fs-6 px-1  ledgend-special">
                    <span class="fw-bold">Details</span>
                </legend>

                <div class="d-flex justify-content-between">
                    <!-- This label is associated with the select element directly below -->
                    <label for="spoken_language" class="required">Language</label>
                </div>
                


                <div class="row">
                    <div class="col-lg-2">
                        <!-- This selected is associated with the label above -->
                        <select id="spoken_language"
                                name="spoken_language"
                                class="form-select mb-2"
                                style="width: 15em"
                                aria-label="current state"
                                required>
                        </select>
                    </div>
                </div>

                <div class="row">
                    <div class="col-auto">
                        <button id="getButton" class="btn btn-primary">Get</button>
                    </div>
                </div>

            </fieldset>

            <fieldset class="border border-dark-subtle rounded-3 p-3 mt-3 mb-3" style="width: 22em;">
                <legend class="float-none w-auto fs-6 px-1  ledgend-special">
                    <span class="fw-bold">Selected</span>
                </legend>
                <div class="row">
                    <div id="results"></div>
                </div>
            </fieldset>

        </div>

    </div>

    <script>

        document.addEventListener("DOMContentLoaded", () => {

            var selectElement = document.getElementById('spoken_language');
            spokenLanguageList().map(item => selectElement.appendChild(new Option(item.name, item.code)).cloneNode(true));

        });


        document.getElementById("getButton").addEventListener("click", function () {
            var value = document.getElementById("spoken_language").value;
        });

 
        document.getElementById("spoken_language").addEventListener("change", (e) => {
            let innerText = e.target[e.target.options.selectedIndex].innerText;
            let value = e.target.value;
            document.getElementById("results").innerHTML =
                "<span style='font-weight: bold;color:blue'>innerText</span>: " +
                innerText +
                "<br /><span style='font-weight: bold;color:blue'>value:</span> " +
                value;

        });
    </script>
</body>
</html>